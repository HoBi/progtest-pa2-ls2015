<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CRegister: Assignment (czech)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="progtest.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CRegister
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Automobile database</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('assignment.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Assignment (czech) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Úkolem je rozšířit třídu <a class="el" href="class_c_register.html" title="Main class of the car register. ">CRegister</a> z předešlé úlohy tak, aby správně kopírovala obsah objektů při použití kopírujícího konstruktoru a operátoru =.</p>
<p>Naše databáze bude evidovat občany a automobily, které vlastní. Občan je identifikován svým jménem a příjmením. Jména a příjmení se mohou opakovat, ale dvojice (jméno, příjmení) je v databázi unikátní. Tedy v databázi může být mnoho jmen Jan a mnoho příjmení Novak, ale Jan Novak může být v databázi v daný okamžik pouze jeden. Automobily jsou pak jednoznačně identifikované svojí registrační značkou RZ. Předpokládáme, že automobil má vždy jednoho vlastníka, jeden občan může vlastnit několik automobilů.</p>
<p>Z důvodů zálohování chceme mít možnost vytvářet kopie existujícího instance <a class="el" href="class_c_register.html" title="Main class of the car register. ">CRegister</a>. Kopie budou vznikat jednak kopírujícím konstruktorem a dále i operátorem =. Vzniklé kopie musí být nezávislé objekty, tedy operace s jedním z nich nemůže ovlivnit obsah druhého. Na druhou stranu se dá počítat s tím, že změn mezi kopiemi nebude mnoho, tedy některá data mohou kopie sdílet v zájmu šetření místa.</p>
<p>Veřejné rozhraní je uvedeno níže. Pro třídu <a class="el" href="class_c_register.html" title="Main class of the car register. ">CRegister</a> obsahuje následující:</p>
<ul>
<li>Konstruktor bez parametrů. Tento konstruktor inicializuje instanci třídy tak, že vzniklá instance je zatím prázdná (neobsahuje žádné záznamy). </li>
<li>Destruktor. Uvolňuje prostředky, které instance alokovala. </li>
<li>Kopírující konstruktor a operátor = bude správně kopírovat obsah objektu. </li>
<li>Metoda AddCar(RZ, Name, Surname) přidá do existující databáze další záznam. Parametry Name a Surname reprezentují jméno a příjmení občana, RZ je identifikace automobilu. Metoda vrací hodnotu true, pokud byl záznam přidán, nebo hodnotu false, pokud dojde k chybě a automobil přidán nebyl. Chybou je, pokud již v databázi existuje automobil se stejnou RZ. </li>
<li>Metoda DelCar (RZ) odstraní záznam z databáze. Parametrem je jednoznačná identifikace automobilu pomocí RZ. Pokud byl záznam skutečně odstraněn, vrátí metoda hodnotu true. Pokud záznam neodstraní (protože neexistoval automobil s touto identifikací), vrátí metoda hodnotu false. </li>
<li>Metoda Transfer ( RZ, name, surname ) provede převod zadaného automobilu (RZ) ze stávajícího majitele na nového majitele zadaného parametry name a surname. Pokud metoda uspěje, vrací true, pro neúspěch vrací false (neexistující automobil, chybou je i pokus o převod, kdy stávající a nový majitel je ten samý občan). </li>
<li>Metoda ListCars vyhledá automobily, které jsou vlastněné zadaným občanem. Metoda vrátí objekt typu <a class="el" href="class_c_car_list.html" title="List of cars with iterator. ">CCarList</a>, pomocí kterého lze postupně projít nalezené záznamy (iterátor). Pokud občan zadaného jména a příjmení neexistuje, je vrácen iterátor s prázdným obsahem (0 automobilů). </li>
<li>Metoda CountCars ( name, surname ) zjistí počet automobilů, který vlastní občan se zadaným jménem a adresou. Pokud občan zadaného jména v databázi neexistuje, je vrácena 0. </li>
<li>Metoda ListOwners (RZ) vyhledá osoby, které vlastnily (vlastní) zadaný automobil. Metoda vrátí objekt typu <a class="el" href="class_c_owner_list.html" title="List of car owners (in correct historical sorting) ">COwnerList</a>, pomocí kterého lze postupně projít nalezené záznamy (iterátor). Pokud zadaný automobil neexistuje, je vrácen iterátor s prázdným obsahem (0 osob). </li>
<li>Metoda CountOwners (RZ) zjistí počet majitelů v historii vlastnictví zadaného automobilu. Pokud zadaný automobil v databázi neexistuje, je vrácena 0. </li>
<li>Do třídy si budete muset přidat členské proměnné. Dále si do rozhraní můžete přidat další pomocné metody (ideálně neveřejné).</li>
</ul>
<p>Třída <a class="el" href="class_c_car_list.html" title="List of cars with iterator. ">CCarList</a> slouží k jednorázovému procházení seznamem automobilů, které jsou vlastněné jedním občanem. V seznamu je vždy jeden automobil vybraný a v seznamu se můžeme pohybovat vpřed. Rozhraní třídy <a class="el" href="class_c_car_list.html" title="List of cars with iterator. ">CCarList</a>:</p>
<ul>
<li>Metoda RZ zjistí RZ vybraného automobilu, </li>
<li>metoda AtEnd zjistí, zda jsme již dosáhli konce seznamu (vrátí true) nebo zda jsou ještě nějaké záznamy k dispozici (false). </li>
<li>Metoda Next posouvá v seznamu o jednu pozici směrem ke konci.</li>
</ul>
<p>Třída <a class="el" href="class_c_owner_list.html" title="List of car owners (in correct historical sorting) ">COwnerList</a> slouží k jednorázovému procházení seznamem vlastníků, kteří vlastnili/vlastní zadaný automobil. V seznamu je vždy jeden vlastník aktuální a v seznamu se můžeme pohybovat vpřed. První v pořadí musí být aktuální vlastník, při procházení se pak pohybujeme směrem zpět do historie. Rozhraní třídy <a class="el" href="class_c_owner_list.html" title="List of car owners (in correct historical sorting) ">COwnerList</a>:</p>
<ul>
<li>Metoda Name zjistí jméno vybraného vlastníka, </li>
<li>Metoda Surname zjistí příjmení vybraného vlastníka, </li>
<li>metoda AtEnd zjistí, zda jsme již dosáhli konce seznamu (vrátí true) nebo zda jsou ještě nějaké záznamy k dispozici (false). </li>
<li>Metoda Next posouvá v seznamu o jednu pozici směrem ke konci (zpět v historii).</li>
</ul>
<p>Odevzdávejte soubor, který obsahuje implementované třídy <a class="el" href="class_c_register.html" title="Main class of the car register. ">CRegister</a>, <a class="el" href="class_c_car_list.html" title="List of cars with iterator. ">CCarList</a> a <a class="el" href="class_c_owner_list.html" title="List of car owners (in correct historical sorting) ">COwnerList</a>. Třídy musí splňovat veřejné rozhraní podle ukázky - pokud Vámi odevzdané řešení nebude obsahovat popsané rozhraní, dojde k chybě při kompilaci. Do třídy si ale můžete doplnit další metody (veřejné nebo i privátní) a členské proměnné. Odevzdávaný soubor musí obsahovat jak deklaraci třídy (popis rozhraní) tak i definice metod, konstruktoru a destruktoru. Je jedno, zda jsou metody implementované inline nebo odděleně. Odevzdávaný soubor nesmí obsahovat vkládání hlavičkových souborů a funkci main (funkce main a vkládání hlavičkových souborů může zůstat, ale pouze obalené direktivami podmíněného překladu jako v ukázce níže).</p>
<p>Třída je testovaná v omezeném prostředí, kde je limitovaná dostupná paměť (dostačuje k uložení seznamu) a je omezena dobou běhu. Pro řešení zcela záměrně nemáte k dispozici STL ani std::string. Úloha má procvičit pochopení hluboké a mělké kopie. S využitím STL by tento cíl nebyl naplněn.</p>
<p>Hodnocení je rozděleno mezi povinné, nepovinné a bonusové testy. Pro zvládnutí povinných testů stačí implementace základní verze kopírování obsahu. Pro zvládnutí dalších testů je potřeba využít techniky copy-on-write, aby vznikající kopie zabíraly rozumný objem paměti. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 19 2015 22:30:03 for CRegister by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
